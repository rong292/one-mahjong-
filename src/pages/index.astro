---
import '../styles/global.css';
---

<html lang="zh-Hant">
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6RVD6MSN9V"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-6RVD6MSN9V');
</script>

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>一元麻將｜社交 × 遊戲 × 微創業</title>
    <meta name="description" content="一元麻將，就好比包你發、明星三缺一、神來也。融合社交 × 遊戲 × 微創業，用30天找尋未來30年的快樂自由。" />
  </head>
  <body class="bg-gray-900 text-white">
    <!-- 置頂圖片 -->
    <header>
      <img 
  src="/images/置頂1.webp" 
  alt="一元麻將，融合社交、遊戲、微創業；用30天迎向未來30年的快樂自動麻將桌" 
  width="1280" 
  height="207" 
  class="w-full h-auto object-cover"
/>

    </header>

	

    <!-- 標題與描述 -->
    <section class="text-center px-4 pt-4 pb-4"> 
  <h1 class="text-3xl font-bold mb-2">不再三缺一！立即開局</h1>
  <p class="text-gray-300">
    登入即享 3000 遊戲金幣，加好友認識真實玩家！
  </p>
</section>

  </body>
</html>

<!-- 領金幣區塊（圖片順序交換後） -->
<section id="bonus" class="max-w-screen-md mx-auto px-4 py-12">
  <!-- 第一張圖：一元麻將 -->
  <figure class="w-full">
    <img
      src="/images/一元麻將.png"
      alt="一元麻將遊戲畫面示意圖"
      class="w-full md:w-[90%] lg:w-[85%] mx-auto rounded-2xl shadow-lg"
      loading="lazy"
      decoding="async"
    />
    <figcaption class="sr-only">一元麻將遊戲畫面</figcaption>
  </figure>

  <!-- 文字段落 -->
  <div class="mt-6 text-center">
    <h2 class="text-2xl md:text-3xl font-extrabold mb-2">領金幣｜登入即送 3000</h2>
    <p class="text-gray-300 leading-relaxed">
      新手登入就送 <strong>3000 金幣</strong>，每日任務與活動再加碼。<br />
      這裡是 <strong>一元麻將</strong> 的官方頁面，支援 <strong>麻將app下載</strong>，
      提供 <strong>線上麻將連線</strong> 與 <strong>線上麻將遊戲</strong> 的即時對戰體驗，
      更能與 <strong>線上麻將 好友</strong> 一起組局開打，不再三缺一！
    </p>

    <!-- 第二張圖：領金幣 -->
    <div class="mt-6">
      <img
        src="/images/領金幣.png"
        alt="一元麻將登入送3000金幣，完成任務即可領金幣獎勵"
        class="w-full max-w-[130%] h-auto rounded-xl shadow-md mx-auto"
        loading="lazy"
        decoding="async"
      />
    </div>

    <!-- 按鈕 -->
    <div class="mt-6 flex flex-col sm:flex-row items-center justify-center gap-3">
      <a href="https://patch-prod.onedollar.com.tw/app/auth/launch-app.html?invite_code=6868"
         target="_blank" rel="noopener noreferrer"
         class="inline-flex items-center justify-center rounded-xl px-6 py-3 bg-yellow-400 text-black font-semibold hover:bg-yellow-300 transition">
        立即下載 App
      </a>
      <a href="https://lin.ee/fS3GCVw"
         target="_blank" rel="nofollow noopener noreferrer"
         class="inline-flex items-center justify-center rounded-xl px-6 py-3 bg-white/10 border border-white/20 hover:bg-white/15 transition">
        了解任務怎麼領金幣
      </a>
    </div>
  </div>
</section>

<!-- 新段落：文字在上 + 流程圖在下 -->
<section id="process" class="max-w-screen-md mx-auto px-4 pt-10 pb-16 text-center">
  <!-- 文字描述（SEO + 顯示） -->
  <div class="text-gray-300 leading-relaxed mb-6">
    <p>不用再擔心打麻將<strong class="text-yellow-300">總是 3 缺 1</strong></p>
    <p class="mt-1">下班找不到人陪伴，無聊時沒有人聊天</p>
    <p class="mt-1">同時運用公會與好友圈，製造交友機會</p>
    <p class="mt-1">結合金幣機制與獎勵，打造你的「<strong class="text-green-400">手機麻將</strong>」</p>
  </div>

  <!-- 流程圖片 -->
  <figure class="w-full">
    <img
      src="/images/流程.png"
      alt="不用再擔心打麻將總是3缺1；下班找不到人陪伴，無聊時沒有人聊天；同時運用公會與好友圈，製造交友機會；結合金幣機制與獎勵，打造你的手機麻將"
      class="w-full md:w-[90%] lg:w-[85%] mx-auto rounded-2xl shadow-lg"
      loading="lazy"
      decoding="async"
    />
    <figcaption class="sr-only">
      不用再擔心打麻將總是3缺1；下班找不到人陪伴，無聊時沒有人聊天；同時運用公會與好友圈，製造交友機會；結合金幣機制與獎勵，打造你的手機麻將
    </figcaption>
  </figure>
</section>

<!-- 最下方 CTA 按鈕區塊 -->
<section id="final-cta" class="bg-green-600 py-10 text-center rounded-2xl mt-12">
  <h2 class="text-2xl md:text-3xl font-extrabold text-white">
    加我 LINE 領取金幣，再送 <span class="text-yellow-300">300 金幣</span>！
  </h2>
  <p class="mt-2 text-white/90">
    立即加入好友，享受更多獎勵與專屬活動
  </p>
  <a
    href="https://lin.ee/fS3GCVw"
    target="_blank"
    rel="nofollow noopener noreferrer"
    class="mt-6 inline-flex items-center justify-center px-8 py-4 bg-yellow-400 text-black font-bold rounded-xl hover:bg-yellow-300 transition text-lg shadow-lg"
  >
    📲 立即加入 LINE 領取額外 300 金幣
  </a>
</section>

<!-- 右下角懸浮按鈕群 -->
<div class="fixed bottom-6 right-6 z-50 flex flex-col gap-3">

  <!-- 浮動：加入 LINE -->
  <div id="float-line"
       class="flex items-center gap-2 bg-green-600 text-white rounded-xl shadow-lg px-4 py-3 animate-bounce">
    <a href="https://lin.ee/fS3GCVw"
       target="_blank" rel="nofollow noopener noreferrer"
       class="flex items-center gap-2">
      📲 <span class="font-bold whitespace-nowrap">加我 LINE 領$3300金幣</span>
    </a>
    <button id="close-float-line"
            class="ml-1 text-white/90 hover:text-yellow-300 text-lg leading-none"
            aria-label="關閉 LINE 按鈕">✕</button>
  </div>

  <!-- 浮動：立即下載麻將 APP -->
  <div id="float-app"
       class="flex items-center gap-2 bg-yellow-400 text-black rounded-xl shadow-lg px-4 py-3">
    <a href="https://patch-prod.onedollar.com.tw/app/auth/launch-app.html?invite_code=6868"
       target="_blank" rel="noopener noreferrer"
       class="flex items-center gap-2">
      ⬇️ <span class="font-bold whitespace-nowrap">立即下載麻將 APP</span>
    </a>
    <button id="close-float-app"
            class="ml-1 text-black/70 hover:text-black text-lg leading-none"
            aria-label="關閉 下載按鈕">✕</button>
  </div>

</div>

<!-- 控制關閉（可各別關掉） -->
<script>
  document.getElementById('close-float-line')?.addEventListener('click', () => {
    const el = document.getElementById('float-line'); if (el) el.style.display = 'none';
  });
  document.getElementById('close-float-app')?.addEventListener('click', () => {
    const el = document.getElementById('float-app'); if (el) el.style.display = 'none';
  });
</script>


<!-- 進站前彈窗：線上自動麻將桌 -->
<div
  id="entry-modal"
  class="fixed inset-0 z-[100] hidden items-center justify-center bg-black/70 backdrop-blur-sm p-4"
  aria-modal="true" role="dialog" aria-labelledby="modal-title"
>
  <div class="relative max-w-3xl w-full">
    <!-- 關閉按鈕 -->
    <button
      id="entry-modal-close"
      class="absolute -top-3 -right-3 bg-white text-gray-800 rounded-full w-9 h-9 shadow-lg hover:bg-gray-100"
      aria-label="關閉彈窗"
    >✕</button>

    <!-- 圖片 -->
    <img
      src="/images/線上自動麻將桌.png"
      alt="線上自動麻將桌：自動配桌、即時連線、三缺一問題一次解決"
      class="w-full h-auto rounded-2xl shadow-2xl select-none"
      draggable="false"
      id="entry-modal-image"
    />

    <!-- 行動按鈕：進入網站（用來記錄事件） -->
    <div class="mt-4 flex justify-center">
      <button
        id="entry-modal-enter"
        class="inline-flex items-center justify-center rounded-xl px-6 py-3 bg-yellow-400 text-black font-bold hover:bg-yellow-300 transition shadow"
      >
        進入網站
      </button>
    </div>
  </div>
</div>

<script>
  // === 簡易 GA4 事件包裝（若未安裝 GA4 也不會報錯） ===
  function sendGA(eventName, params = {}) {
    try { gtag('event', eventName, params); } catch(e) {}
  }

  // 取得節點
  const modal = document.getElementById('entry-modal');
  const btnClose = document.getElementById('entry-modal-close');
  const btnEnter = document.getElementById('entry-modal-enter');
  const imgClick = document.getElementById('entry-modal-image');

  // 顯示 / 關閉
  function openModal() {
    modal.classList.remove('hidden');
    modal.classList.add('flex');
    sendGA('entry_modal_shown', { screen: 'landing' });
  }
  function closeModal(action) {
    modal.classList.add('hidden');
    modal.classList.remove('flex');
    sendGA('entry_modal_closed', { action }); // 'x' | 'enter' | 'image'
  }

  // ★ 進站就顯示（每次重新進入都會跳出）
  document.addEventListener('DOMContentLoaded', openModal);

  // 關閉事件
  btnClose?.addEventListener('click', () => closeModal('x'));
  btnEnter?.addEventListener('click', () => {
    sendGA('entry_modal_enter_click', { cta: 'enter_button' });
    closeModal('enter');
  });
  // 如果點圖片也算「進入網站」
  imgClick?.addEventListener('click', () => {
    sendGA('entry_modal_enter_click', { cta: 'image_click' });
    closeModal('image');
  });
</script>
